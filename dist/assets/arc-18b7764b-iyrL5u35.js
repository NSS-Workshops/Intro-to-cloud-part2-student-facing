import{aJ as sn,aK as an,aL as l,a9 as on,aM as X,aN as F,aO as E,aP as un,a7 as B,aQ as cn,aR as G,aS as y,aT as rn,aU as yn,aV as en}from"./index-Czor8CTe.js";function fn(i){return i.innerRadius}function ln(i){return i.outerRadius}function gn(i){return i.startAngle}function pn(i){return i.endAngle}function xn(i){return i&&i.padAngle}function mn(i,d,I,q,v,A,D,a){var L=I-i,r=q-d,n=D-v,p=a-A,u=p*L-n*r;if(!(u*u<l))return u=(n*(d-A)-p*(i-v))/u,[i+u*L,d+u*r]}function N(i,d,I,q,v,A,D){var a=i-I,L=d-q,r=(D?A:-A)/G(a*a+L*L),n=r*L,p=-r*a,u=i+n,s=d+p,e=I+n,f=q+p,H=(u+e)/2,o=(s+f)/2,x=e-u,g=f-s,T=x*x+g*g,R=v-A,O=u*f-e*s,P=(g<0?-1:1)*G(yn(0,R*R*T-O*O)),W=(O*g-x*P)/T,j=(-O*x-g*P)/T,C=(O*g+x*P)/T,m=(-O*x+g*P)/T,h=W-H,t=j-o,c=C-H,S=m-o;return h*h+t*t>c*c+S*S&&(W=C,j=m),{cx:W,cy:j,x01:-n,y01:-p,x11:W*(v/R-1),y11:j*(v/R-1)}}function dn(){var i=fn,d=ln,I=B(0),q=null,v=gn,A=pn,D=xn,a=null,L=sn(r);function r(){var n,p,u=+i.apply(this,arguments),s=+d.apply(this,arguments),e=v.apply(this,arguments)-an,f=A.apply(this,arguments)-an,H=un(f-e),o=f>e;if(a||(a=n=L()),s<u&&(p=s,s=u,u=p),!(s>l))a.moveTo(0,0);else if(H>on-l)a.moveTo(s*X(e),s*F(e)),a.arc(0,0,s,e,f,!o),u>l&&(a.moveTo(u*X(f),u*F(f)),a.arc(0,0,u,f,e,o));else{var x=e,g=f,T=e,R=f,O=H,P=H,W=D.apply(this,arguments)/2,j=W>l&&(q?+q.apply(this,arguments):G(u*u+s*s)),C=E(un(s-u)/2,+I.apply(this,arguments)),m=C,h=C,t,c;if(j>l){var S=rn(j/u*F(W)),Y=rn(j/s*F(W));(O-=S*2)>l?(S*=o?1:-1,T+=S,R-=S):(O=0,T=R=(e+f)/2),(P-=Y*2)>l?(Y*=o?1:-1,x+=Y,g-=Y):(P=0,x=g=(e+f)/2)}var _=s*X(x),b=s*F(x),Z=u*X(R),$=u*F(R);if(C>l){var k=s*X(g),M=s*F(g),Q=u*X(T),U=u*F(T),z;if(H<cn)if(z=mn(_,b,Q,U,k,M,Z,$)){var V=_-z[0],J=b-z[1],K=k-z[0],w=M-z[1],nn=1/F(en((V*K+J*w)/(G(V*V+J*J)*G(K*K+w*w)))/2),tn=G(z[0]*z[0]+z[1]*z[1]);m=E(C,(u-tn)/(nn-1)),h=E(C,(s-tn)/(nn+1))}else m=h=0}P>l?h>l?(t=N(Q,U,_,b,s,h,o),c=N(k,M,Z,$,s,h,o),a.moveTo(t.cx+t.x01,t.cy+t.y01),h<C?a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,s,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),!o),a.arc(c.cx,c.cy,h,y(c.y11,c.x11),y(c.y01,c.x01),!o))):(a.moveTo(_,b),a.arc(0,0,s,x,g,!o)):a.moveTo(_,b),!(u>l)||!(O>l)?a.lineTo(Z,$):m>l?(t=N(Z,$,k,M,u,-m,o),c=N(_,b,Q,U,u,-m,o),a.lineTo(t.cx+t.x01,t.cy+t.y01),m<C?a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,u,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),o),a.arc(c.cx,c.cy,m,y(c.y11,c.x11),y(c.y01,c.x01),!o))):a.arc(0,0,u,R,T,o)}if(a.closePath(),n)return a=null,n+""||null}return r.centroid=function(){var n=(+i.apply(this,arguments)+ +d.apply(this,arguments))/2,p=(+v.apply(this,arguments)+ +A.apply(this,arguments))/2-cn/2;return[X(p)*n,F(p)*n]},r.innerRadius=function(n){return arguments.length?(i=typeof n=="function"?n:B(+n),r):i},r.outerRadius=function(n){return arguments.length?(d=typeof n=="function"?n:B(+n),r):d},r.cornerRadius=function(n){return arguments.length?(I=typeof n=="function"?n:B(+n),r):I},r.padRadius=function(n){return arguments.length?(q=n==null?null:typeof n=="function"?n:B(+n),r):q},r.startAngle=function(n){return arguments.length?(v=typeof n=="function"?n:B(+n),r):v},r.endAngle=function(n){return arguments.length?(A=typeof n=="function"?n:B(+n),r):A},r.padAngle=function(n){return arguments.length?(D=typeof n=="function"?n:B(+n),r):D},r.context=function(n){return arguments.length?(a=n??null,r):a},r}export{dn as h};
